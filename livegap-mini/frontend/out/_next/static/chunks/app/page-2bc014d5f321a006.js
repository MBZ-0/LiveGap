(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2454:function(e,t,s){Promise.resolve().then(s.bind(s,6774))},6774:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var l=s(7437),a=s(2265),r=s(2731);let n="/api",d=n.replace(/\/api$/,"");console.log("[another.ai Mini] API_BASE=",n);let o={"I’m trying to talk to sales — can you help me reach the sales team?":"Talk to Sales","Can you show me the pricing or plans for this company?":"Pricing","How do I create an account or get started?":"Sign Up","Where can I find documentation or help resources?":"Help","Can you show me what customers say about this product?":"Customers"};function c(){let[e,t]=(0,a.useState)([]),[s,c]=(0,a.useState)(null),[i,x]=(0,a.useState)(!1),[m,u]=(0,a.useState)(""),[h,p]=(0,a.useState)("Can you show me the pricing or plans for this company?"),[b,f]=(0,a.useState)(!1),[g,j]=(0,a.useState)(null),[N,w]=(0,a.useState)(null),[v,y]=(0,a.useState)(null),[S,k]=(0,a.useState)(null),[C,_]=(0,a.useState)("");(0,a.useEffect)(()=>{try{let e=localStorage.getItem("lg_runs");if(e){let s=JSON.parse(e);t(s),s.length&&c(s[0].id)}}catch(e){}},[]),(0,a.useEffect)(()=>{try{localStorage.setItem("lg_runs",JSON.stringify(e))}catch(e){}},[e]),(0,a.useEffect)(()=>{!s&&e.length&&c(e[0].id)},[s,e]);let R=s&&e.find(e=>e.id===s)||null,T=e.filter(e=>{if(!C.trim())return!0;let t=C.toLowerCase();return e.name.toLowerCase().includes(t)||o[e.goal].toLowerCase().includes(t)});async function E(){if(!m.trim()){j("Test name required");return}f(!0),j(null);try{let e=await fetch("".concat(n,"/run-reality-check"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({goal:h})});if(!e.ok){let t=await e.text();throw Error(t||"HTTP ".concat(e.status))}let s=await e.json(),l={id:crypto.randomUUID(),name:m.trim(),goal:h,createdAt:new Date().toISOString(),overallSuccessRate:s.overall_success_rate,results:s.results};t(e=>[l,...e]),c(l.id),x(!1),u("")}catch(e){j(e.message||"Failed to run test")}finally{f(!1)}}return(0,l.jsxs)("div",{className:"min-h-screen bg-slate-950 text-slate-50 flex flex-col",children:[(0,l.jsx)("header",{className:"h-14 flex items-center justify-between border-b border-slate-800 bg-slate-900/70 px-6",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"h-8 w-8 rounded bg-red-500/90 flex items-center justify-center text-xs font-bold tracking-wide",children:"A"}),(0,l.jsx)("span",{className:"text-sm font-semibold tracking-wide",children:"another.ai"})]})}),(0,l.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,l.jsxs)("aside",{className:"w-72 flex flex-col border-r border-slate-800 bg-slate-900/40",children:[(0,l.jsxs)("div",{className:"p-4 border-b border-slate-800 flex items-center justify-between",children:[(0,l.jsx)("h2",{className:"text-[11px] uppercase tracking-[0.2em] text-slate-400",children:"Test Runs"}),(0,l.jsx)("button",{onClick:()=>x(!0),disabled:b,className:"rounded-md bg-red-500 px-3 py-1.5 text-[11px] font-semibold text-white shadow shadow-red-500/30 hover:bg-red-600 disabled:bg-slate-700 disabled:cursor-not-allowed",children:b?"Running…":"New"})]}),(0,l.jsx)("div",{className:"p-3",children:(0,l.jsx)("input",{placeholder:"Search runs…",value:C,onChange:e=>_(e.target.value),className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-xs outline-none focus:border-slate-500"})}),(0,l.jsxs)("div",{className:"flex-1 overflow-auto px-3 pb-4 space-y-2",children:[0===T.length&&(0,l.jsx)("p",{className:"text-[11px] text-slate-500 mt-2",children:"No test runs yet."}),T.map(e=>{let t=s===e.id,a=new Date(e.createdAt).toLocaleString(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"});return(0,l.jsxs)("button",{onClick:()=>c(e.id),className:"group w-full rounded-lg border px-3 py-2 text-left transition ".concat(t?"border-red-500/60 bg-red-500/10":"border-slate-800 bg-slate-950/40 hover:border-slate-700 hover:bg-slate-900/60"),children:[(0,l.jsx)("div",{className:"flex items-start justify-between",children:(0,l.jsx)("span",{className:"text-xs font-medium ".concat(t?"text-slate-100":"text-slate-200"),children:e.name})}),(0,l.jsxs)("div",{className:"mt-1 flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:o[e.goal]}),(0,l.jsx)("span",{className:"text-[10px] text-slate-500",children:a})]}),(0,l.jsxs)("div",{className:"mt-1 text-[10px] text-slate-500",children:["Success: ",e.overallSuccessRate.toFixed(0),"%"]})]},e.id)})]})]}),(0,l.jsxs)("main",{className:"flex-1 overflow-auto p-8",children:[g&&(0,l.jsx)("div",{className:"mb-4 rounded-md border border-red-800 bg-red-900/30 px-3 py-2 text-[11px] text-red-200",children:g}),!R&&0===e.length&&(0,l.jsxs)("div",{className:"max-w-xl mx-auto mt-16 text-center",children:[(0,l.jsx)("h1",{className:"text-2xl font-semibold text-slate-100",children:"Run your first agent test"}),(0,l.jsx)("p",{className:"mt-3 text-sm text-slate-400",children:"Gauge how your reference browser agent performs across common SaaS sites."}),(0,l.jsxs)("ul",{className:"mt-6 space-y-2 text-left text-sm text-slate-300",children:[(0,l.jsxs)("li",{className:"flex gap-2",children:[(0,l.jsx)("span",{className:"mt-1 h-2 w-2 rounded-full bg-red-500"}),"We run your reference agent against 10 SaaS websites."]}),(0,l.jsxs)("li",{className:"flex gap-2",children:[(0,l.jsx)("span",{className:"mt-1 h-2 w-2 rounded-full bg-red-500"}),"We evaluate how often it can complete the chosen goal."]}),(0,l.jsxs)("li",{className:"flex gap-2",children:[(0,l.jsx)("span",{className:"mt-1 h-2 w-2 rounded-full bg-red-500"}),"We record video and a step-by-step report for each site."]})]}),(0,l.jsx)("button",{onClick:()=>x(!0),className:"mt-8 inline-flex items-center rounded-md bg-red-500 px-5 py-2.5 text-sm font-semibold text-white shadow shadow-red-500/30 hover:bg-red-600",children:"Create your first test"})]}),R&&(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-start lg:justify-between",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h1",{className:"text-2xl font-semibold text-slate-100",children:R.name}),(0,l.jsx)("p",{className:"text-sm text-slate-300",children:R.goal}),(0,l.jsxs)("p",{className:"text-xs text-slate-500",children:["Created ",new Date(R.createdAt).toLocaleString(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})]})]}),(0,l.jsx)("div",{className:"flex items-center gap-4",children:(()=>{let e=Math.round(R.overallSuccessRate),t=e>=70?"bg-emerald-500/15 text-emerald-300 border-emerald-500/40":e>=40?"bg-yellow-500/15 text-yellow-300 border-yellow-500/40":"bg-red-500/15 text-red-300 border-red-500/40";return(0,l.jsxs)("div",{className:"rounded-xl border px-6 py-4 text-center ".concat(t),children:[(0,l.jsxs)("p",{className:"text-4xl font-semibold leading-none",children:[e,(0,l.jsx)("span",{className:"text-lg align-top",children:"%"})]}),(0,l.jsx)("p",{className:"mt-1 text-[11px] uppercase tracking-wide",children:"Overall Success"})]})})()})]}),(0,l.jsxs)("div",{className:"rounded-xl border border-slate-800 bg-slate-900/50",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-800 px-4 py-3",children:[(0,l.jsx)("h2",{className:"text-sm font-semibold text-slate-200",children:"Sites Evaluated"}),(0,l.jsxs)("span",{className:"text-[11px] text-slate-500",children:["Total: ",R.results.length]})]}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full text-xs",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-slate-900/70 text-[11px] uppercase tracking-wide text-slate-400",children:[(0,l.jsx)("th",{className:"px-4 py-2 text-left",children:"Site"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left",children:"URL"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left",children:"Status"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left",children:"Reason"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left",children:"Artifacts"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-slate-800",children:R.results.map(e=>{let t=e.url.length>55?e.url.slice(0,55)+"…":e.url,s=e.reason.length>140?e.reason.slice(0,140)+"…":e.reason;return(0,l.jsxs)("tr",{className:"hover:bg-slate-900/60",children:[(0,l.jsx)("td",{className:"px-4 py-3 font-medium text-slate-200",children:e.site_name}),(0,l.jsx)("td",{className:"px-4 py-3 text-[11px] text-slate-400",children:(0,l.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"underline decoration-dotted underline-offset-2",children:t})}),(0,l.jsx)("td",{className:"px-4 py-3",children:e.success?(0,l.jsx)("span",{className:"rounded-full bg-emerald-500/15 px-2.5 py-1 text-[11px] font-medium text-emerald-300",children:"Success"}):(0,l.jsx)("span",{className:"rounded-full bg-red-500/15 px-2.5 py-1 text-[11px] font-medium text-red-300",children:"Failed"})}),(0,l.jsx)("td",{className:"px-4 py-3 text-[11px] text-slate-300 leading-relaxed w-[28rem] max-w-[28rem]",children:s}),(0,l.jsx)("td",{className:"px-4 py-3 text-[11px] text-slate-400",children:(0,l.jsxs)("div",{className:"flex gap-2",children:[e.video_url&&(0,l.jsx)("button",{type:"button",onClick:()=>{var t;(t=e.video_url)&&w(t)},className:"rounded-md border border-slate-700 px-2 py-1 hover:border-slate-500 hover:bg-slate-800/60",children:"Video"}),e.report&&(0,l.jsx)("button",{type:"button",onClick:()=>{e.report&&(y(e.report),k(e.site_name))},className:"rounded-md border border-slate-700 px-2 py-1 hover:border-slate-500 hover:bg-slate-800/60",children:"Report"}),!e.video_url&&!e.report&&(0,l.jsx)("span",{className:"text-slate-600",children:"—"})]})})]},e.site_id)})})]})})]})]})]})]}),i&&(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-4",role:"dialog","aria-modal":"true",children:(0,l.jsxs)("div",{className:"w-full max-w-md rounded-2xl border border-slate-700 bg-slate-900 p-5 shadow-xl",children:[(0,l.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,l.jsx)("h2",{className:"text-sm font-medium text-slate-200",children:"New Agent Test"}),(0,l.jsx)("button",{onClick:()=>x(!1),className:"rounded-md bg-slate-800 px-2 py-1 text-xs text-slate-300 hover:bg-slate-700",children:"Close"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-xs font-medium uppercase text-slate-400",children:"Test Name"}),(0,l.jsx)("input",{value:m,onChange:e=>u(e.target.value),className:"mt-1 w-full rounded-xl border border-slate-700 bg-slate-950 px-3 py-2 text-sm outline-none focus:border-slate-400",placeholder:"Slack onboarding – talk to sales"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-xs font-medium uppercase text-slate-400",children:"Goal"}),(0,l.jsx)("select",{value:h,onChange:e=>p(e.target.value),className:"mt-1 w-full rounded-xl border border-slate-700 bg-slate-950 px-3 py-2 text-sm outline-none focus:border-slate-400",children:Object.keys(o).map(e=>(0,l.jsx)("option",{value:e,children:e},e))})]}),(0,l.jsx)("button",{onClick:E,disabled:b,className:"w-full rounded-xl bg-red-500 px-4 py-2.5 text-sm font-semibold text-white shadow-lg shadow-red-500/25 transition hover:bg-red-600 disabled:cursor-not-allowed disabled:bg-slate-700",children:b?"Running test…":"Run test on 10 SaaS sites"})]})]})}),N&&(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-4",role:"dialog","aria-modal":"true",children:(0,l.jsxs)("div",{className:"w-full max-w-3xl rounded-2xl border border-slate-700 bg-slate-900 p-4 shadow-xl",children:[(0,l.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,l.jsx)("h2",{className:"text-sm font-medium text-slate-200",children:"Recorded Session"}),(0,l.jsx)("button",{onClick:function(){w(null)},className:"rounded-md bg-slate-800 px-2 py-1 text-xs text-slate-300 hover:bg-slate-700",children:"Close"})]}),(0,l.jsx)("video",{className:"w-full rounded-md bg-black",controls:!0,autoPlay:!0,src:"".concat(d).concat(N),children:"Your browser does not support HTML5 video."},N)]})}),v&&(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-4",role:"dialog","aria-modal":"true",children:(0,l.jsxs)("div",{className:"w-full max-w-4xl rounded-2xl border border-slate-700 bg-slate-900 p-5 shadow-xl",children:[(0,l.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,l.jsxs)("h2",{className:"text-sm font-medium text-slate-200",children:["Report – ",S]}),(0,l.jsx)("button",{onClick:function(){y(null),k(null)},className:"rounded-md bg-slate-800 px-2 py-1 text-xs text-slate-300 hover:bg-slate-700",children:"Close"})]}),(0,l.jsx)("div",{className:"max-h-[60vh] overflow-auto rounded-lg border border-slate-800 bg-slate-950/40 p-4 text-xs leading-relaxed",children:(0,l.jsx)("div",{className:"prose prose-invert prose-sm max-w-none",children:(0,l.jsx)(r.UG,{components:{h1:e=>{let{node:t,...s}=e;return(0,l.jsx)("h1",{className:"text-xl font-bold text-slate-100 mb-3 mt-4",...s})},h2:e=>{let{node:t,...s}=e;return(0,l.jsx)("h2",{className:"text-lg font-semibold text-slate-200 mb-2 mt-3",...s})},h3:e=>{let{node:t,...s}=e;return(0,l.jsx)("h3",{className:"text-base font-medium text-slate-300 mb-2 mt-2",...s})},p:e=>{let{node:t,...s}=e;return(0,l.jsx)("p",{className:"text-slate-300 mb-2",...s})},ul:e=>{let{node:t,...s}=e;return(0,l.jsx)("ul",{className:"list-disc list-inside text-slate-300 mb-2 space-y-1",...s})},li:e=>{let{node:t,...s}=e;return(0,l.jsx)("li",{className:"text-slate-300",...s})},code:e=>{let{node:t,inline:s,...a}=e;return s?(0,l.jsx)("code",{className:"bg-slate-800 text-slate-200 px-1.5 py-0.5 rounded text-xs font-mono",...a}):(0,l.jsx)("code",{className:"block bg-slate-800 text-slate-200 p-2 rounded text-xs font-mono overflow-x-auto",...a})},strong:e=>{let{node:t,...s}=e;return(0,l.jsx)("strong",{className:"font-semibold text-slate-100",...s})}},children:v})})})]})})]})}}},function(e){e.O(0,[731,971,23,744],function(){return e(e.s=2454)}),_N_E=e.O()}]);